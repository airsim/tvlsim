<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Sim Launcher</title>

		<link type="text/css" href="libs/jQueryUI/css/redmond/jquery-ui-1.8.13.custom.css" rel="stylesheet" />
		<script type="text/javascript" src="libs/jQueryUI/js/jquery-1.5.1.min.js"></script>
		<script type="text/javascript" src="libs/jQueryUI/js/jquery-ui-1.8.13.custom.min.js"></script>
        
        <script>
		var apiPath = 'libs/timeline/';
  		Timeline_ajax_url="libs/timeline/timeline_ajax/simile-ajax-api.js";
     	Timeline_urlPrefix='libs/timeline/timeline_js/';       
     	Timeline_parameters='bundle=true';
    	</script>
 

		<!--<script src="http://api.simile-widgets.org/timeline/2.3.1/timeline-api.js" type="text/javascript"></script>-->
        <script src="libs/timeline/timeline_js/timeline-api.js" type="text/javascript"></script>
        
        
<style type="text/css">
body {
	font: 100% Verdana, Arial, Helvetica, sans-serif;
	background: #FFFFFF;
	margin: 0; 
	padding: 0px;
	text-align: center; 
	color: #000000;
}

.oneColElsCtrHdr #container {
	width: 800px;  
	background: #FFFFFF;
	margin: 0 auto; 
	/*border: 1px solid #000000;*/
	text-align: left;
}
.oneColElsCtrHdr #header { 
/*	background-image:url(assets/images/airinvheader1.png); */
	padding: 0px; 	
} 
.oneColElsCtrHdr #header h1 {
	margin: 0; 
	padding: 0px;
	/*3D Made in Vivi! YEAH! ou pas!*/
	/*text-shadow: 0 1px 0 #ccc, 0 2px 0 #c9c9c9, 0 3px 0 #bbb, 0 4px 0 #b9b9b9, 0 5px 0 #aaa, 0 6px 1px rgba(0,0,0,.1), 0 0 5px rgba(0,0,0,.1), 0 1px 3px rgba(0,0,0,.3), 0 3px 5px rgba(0,0,0,.2), 0 5px 10px rgba(0,0,0,.25), 0 10px 10px rgba(0,0,0,.2), 0 20px 20px rgba(0,0,0,.15);*/
}
.oneColElsCtrHdr #mainContent {
	padding: 0px;
	background: #FFFFFF;
}
.oneColElsCtrHdr #footer { 
	padding: 0 0px;
	background:#DDDDDD;
} 
.oneColElsCtrHdr #footer p {
	margin: 0;
	padding: 0px;
}

</style></head>

<body class="oneColElsCtrHdr" onload="onLoad();" onresize="onResize();">

<div id="container" style="width:800px;">
  <div id="header" style="background-image:url(assets/images/airsimheader2small.png); width:800px; height:163px">
    <div id="effect" class="demo" style="width:425px; height:100px; padding:0px; background-image:none">
    <h3 class="ui-widget-header ui-corner-all">Controls</h3>
	<button>Launch Simulation</button>
    <input type="submit" name="btnBeginSim" id="btnBeginSim" value="Stop" disabled="disabled"/>
	<input type="submit" name="btnBeginSim" id="btnBeginSim" value="Inventory"  onClick="window.open('airinv.html')"/>
	<input type="submit" name="btnBeginSim" id="btnBeginSim" value="Schedule"  onClick="window.open('schedule.html')"/>
	</div>
  <!-- end #header --></div>
  
  <div id="mainContent">
 
    <div id="effect" class="ui-widget-content ui-corner-all" style="width:795px; height:280px;">
	<h3 class="ui-widget-header ui-corner-all">Simulation Period</h3>
    <table width="98%" border="0" cellpadding="2">
      <tr>
        <td width="40%">Start Date
    	<div id="startDatepicker" value="2010-Mar-11"></div></td>
        <td width="60%">End Date
        <div id="endDatepicker" value="2010-Mar-11"></div></td>
      </tr>
    </table>
    </div>
	</div>
   
   <div id="effect" class="ui-widget-content ui-corner-all" style="width:795px; height:450px; padding:0px;">
    <h3 class="ui-widget-header ui-corner-all">Breakpoints</h3>
    
     
<table width="98%" border="0" cellpadding="2">
        <tr>
          <td width="40%"> <div id="breakpointDatepicker" value="2010-Mar-11"></div></td>
          <td width="60%"><p>
            Name: </br>
            <input type="text" id="breakpointName" value="Breakpoint" style="width:300px"/>
            </p>
            <p>Description: </br>
            <input type="text" id="breakpointDescription" value="Simulation will pause on the following date" style="width:300px"/></p>
            <div class="demo"><p><input name="input" type="submit" value="Add Breakpoint" onclick="addBreakpoint()"/></p></div>
			</td>
        </tr>
      </table>
	  </br>
    <div id="breakpoint-timeline" style="height: 150px; border: 1px solid #aaa"></div>
    </div>
	
	<!-- end #mainContent --></div>
  </div>

<!-- end #container --></div>

</body>
</html>


<script type="text/javascript">
var tl;
var eventSource;

function onLoad() 
{
	$(function() {
		$( "input:submit, a, button", ".demo" ).button({icons: {
                primary: "ui-icon-gear"
            }});
		$( "a", ".demo" ).click(function() { return false; });
	});

eventSource = new Timeline.DefaultEventSource();
  var bandInfos = [
    Timeline.createBandInfo({
        width:          "70%",
		eventSource: eventSource,
		//date:           "Jun 28 2006 00:00:00 GMT",
        intervalUnit:   Timeline.DateTime.MONTH, 
        intervalPixels: 100,
		
    }),
    Timeline.createBandInfo({
		eventSource:    eventSource,
        width:          "30%",
		//date:           "Jun 28 2006 00:00:00 GMT",
        intervalUnit:   Timeline.DateTime.YEAR, 
        intervalPixels: 200,
		
    })
  ];
  bandInfos[1].syncWith = 0;
  bandInfos[1].highlight = true;
  tl = Timeline.create(document.getElementById("breakpoint-timeline"), bandInfos);
}

var resizeTimerID = null;
function onResize() {
    if (resizeTimerID == null) {
        resizeTimerID = window.setTimeout(function() {
            resizeTimerID = null;
            tl.layout();
        }, 500);
    }
}


function addBreakpoint()
{
	var bpDate = document.getElementById("breakpointDatepicker").value;
	var bpName = document.getElementById("breakpointName").value;
	var bpDescription = document.getElementById("breakpointDescription").value;
	
	var evt = new Timeline.DefaultEventSource.Event ({ 
		start: new Date(bpDate), //IMPORTANT: change string to Date type
		instant : true, 
		text : bpName, 
		description : bpDescription 
	}); 
    eventSource.add(evt);
	tl.paint();
}


$(function() 
	{
		$( "#startDatepicker" ).datepicker({
										changeMonth: true,
										changeYear: true,
										//showButtonPanel: true,
										dateFormat: "yy-M-d",
									  });
		$( "#endDatepicker" ).datepicker({
										changeMonth: true,
										changeYear: true,
										//showButtonPanel: true,
										dateFormat: "yy-M-d",
									  });
		
		$( "#breakpointDatepicker" ).datepicker({
										changeMonth: true,
										changeYear: true,
										//showButtonPanel: true,
										dateFormat: "yy-M-d",
									  });
	});

</script>